{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Documents/armonela/WonderHouse/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext,createContext,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext();export const AuthProvider=_ref=>{let{children}=_ref;const[auth,setAuth]=useState({user:null,token:''});//default\naxios.defaults.headers.common['Authorization']=auth===null||auth===void 0?void 0:auth.token;useEffect(()=>{const data=localStorage.getItem('auth');if(data){const parseData=JSON.parse(data);setAuth(_objectSpread(_objectSpread({},auth),{},{user:parseData.user,token:parseData.token}));}},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:[auth,setAuth],children:children});};const useAuth=()=>useContext(AuthContext);export{useAuth};","map":{"version":3,"names":["React","useState","useContext","createContext","useEffect","axios","jsx","_jsx","AuthContext","AuthProvider","_ref","children","auth","setAuth","user","token","defaults","headers","common","data","localStorage","getItem","parseData","JSON","parse","_objectSpread","Provider","value","useAuth"],"sources":["C:/Users/User/Documents/armonela/WonderHouse/frontend/src/context/auth.js"],"sourcesContent":["import React, {useState, useContext,createContext, useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport const AuthProvider = ({children})=> {\r\n    const [auth, setAuth]= useState({\r\n        user: null,\r\n        token:''\r\n    });\r\n    //default\r\n    axios.defaults.headers.common['Authorization'] = auth?.token;\r\n\r\n    useEffect(() => {\r\n        const data = localStorage.getItem('auth')\r\n        if(data){\r\n            const parseData = JSON.parse(data)\r\n            setAuth({\r\n            ...auth,\r\n            user: parseData.user,\r\n            token: parseData.token,\r\n            })\r\n        }\r\n    }, []);\r\n    \r\n    return (\r\n        <AuthContext.Provider value={[auth, setAuth]}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n};\r\n\r\nconst useAuth = () => useContext(AuthContext);\r\nexport {useAuth};\r\n"],"mappings":"0IAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,UAAU,CAACC,aAAa,CAAEC,SAAS,KAAO,OAAO,CAC1E,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAM,YAAY,CAAGC,IAAA,EAAe,IAAd,CAACC,QAAQ,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAEZ,QAAQ,CAAC,CAC5Ba,IAAI,CAAE,IAAI,CACVC,KAAK,CAAC,EACV,CAAC,CAAC,CACF;AACAV,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,KAAK,CAE5DX,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAe,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC,GAAGF,IAAI,CAAC,CACJ,KAAM,CAAAG,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC,CAClCN,OAAO,CAAAY,aAAA,CAAAA,aAAA,IACJb,IAAI,MACPE,IAAI,CAAEQ,SAAS,CAACR,IAAI,CACpBC,KAAK,CAAEO,SAAS,CAACP,KAAK,EACrB,CAAC,CACN,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIR,IAAA,CAACC,WAAW,CAACkB,QAAQ,EAACC,KAAK,CAAE,CAACf,IAAI,CAAEC,OAAO,CAAE,CAAAF,QAAA,CACxCA,QAAQ,CACS,CAAC,CAE/B,CAAC,CAED,KAAM,CAAAiB,OAAO,CAAGA,CAAA,GAAM1B,UAAU,CAACM,WAAW,CAAC,CAC7C,OAAQoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}