{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Documents/armonela/WonderHouse/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{NavLink,Link}from\"react-router-dom\";import{FaShoppingBag}from\"react-icons/fa\";import{useAuth}from\"../../context/auth\";import toast from\"react-hot-toast\";import{useNavigate}from\"react-router-dom\";import SearchInput from\"../Form/SearchInput\";import useCategory from\"../../hooks/useCategory.js\";import{useCart}from\"../../context/cart.js\";import{Badge}from'antd';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{var _auth$user,_auth$user2;const[auth,setAuth]=useAuth();const[cart,setCart]=useCart();const navigate=useNavigate();const categories=useCategory();const handleLogout=()=>{setAuth(_objectSpread(_objectSpread({},auth),{},{user:null,token:\"\"}));localStorage.removeItem(\"auth\");toast.success(\"LogOut Successfully\");setTimeout(()=>{navigate(\"/\");},100);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg bg-body-tertiary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar-brand\",children:[/*#__PURE__*/_jsx(FaShoppingBag,{}),\" Wonder House\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(SearchInput,{}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"nav-link\",children:\"Home\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-link dropdown-toggle\",to:'/categories',\"data-bs-toggle\":\"dropdown\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:'/categories',children:\"All Categories\"})}),categories===null||categories===void 0?void 0:categories.map(c=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/category/\".concat(c.slug),children:c.name})},c._id))]})]}),!auth.user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"nav-link\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"nav-link\",children:\"Login\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link dropdown-toggle\",href:\"#\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.name}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/dashboard/\".concat((auth===null||auth===void 0?void 0:(_auth$user2=auth.user)===null||_auth$user2===void 0?void 0:_auth$user2.role)===1?\"admin\":\"user\"),className:\"nav-link\",children:\"DashBoard\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{onClick:handleLogout,to:\"/login\",className:\"nav-link\",children:\"LogOut\"})})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Badge,{count:cart===null||cart===void 0?void 0:cart.length,showZero:true,children:/*#__PURE__*/_jsx(NavLink,{to:\"/cart\",className:\"nav-link mt-2\",children:\"Cart\"})})})]})})]})})});};export default Header;","map":{"version":3,"names":["React","NavLink","Link","FaShoppingBag","useAuth","toast","useNavigate","SearchInput","useCategory","useCart","Badge","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_auth$user","_auth$user2","auth","setAuth","cart","setCart","navigate","categories","handleLogout","_objectSpread","user","token","localStorage","removeItem","success","setTimeout","children","className","to","type","id","map","c","concat","slug","name","_id","href","role","onClick","count","length","showZero"],"sources":["C:/Users/User/Documents/armonela/WonderHouse/frontend/src/components/Layout/Header.js"],"sourcesContent":["import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { FaShoppingBag } from \"react-icons/fa\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport SearchInput from \"../Form/SearchInput\";\r\nimport useCategory from \"../../hooks/useCategory.js\";\r\nimport { useCart } from \"../../context/cart.js\";\r\nimport { Badge } from 'antd';\r\n\r\nconst Header = () => {\r\n  const [auth, setAuth] = useAuth();\r\n  const [cart, setCart] = useCart();\r\n  const navigate = useNavigate();\r\n  const categories = useCategory();\r\n\r\n  const handleLogout = () => {\r\n    setAuth({\r\n      ...auth,\r\n      user: null,\r\n      token: \"\",\r\n    });\r\n    localStorage.removeItem(\"auth\");\r\n    toast.success(\"LogOut Successfully\");\r\n    setTimeout(() => {\r\n      navigate(\"/\");\r\n    }, 100);\r\n  };\r\n  return (\r\n    <>\r\n      <nav className=\"navbar navbar-expand-lg bg-body-tertiary\">\r\n        <div className=\"container-fluid\">\r\n          <Link to=\"/\" className=\"navbar-brand\">\r\n            <FaShoppingBag /> Wonder House\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\r\n              <SearchInput />\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/\" className=\"nav-link\">\r\n                  Home\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  className=\"nav-link dropdown-toggle\"\r\n                  to={'/categories'}\r\n                  data-bs-toggle=\"dropdown\"\r\n                >\r\n                  Categories\r\n                </Link>\r\n                <ul className=\"dropdown-menu\">\r\n                  <li>\r\n                    <Link className=\"dropdown-item\" to={'/categories'}>\r\n                      All Categories\r\n                    </Link>\r\n                  </li>\r\n                  {categories?.map((c) => (\r\n                    <li key={c._id}>\r\n                      <Link className=\"dropdown-item\" to={`/category/${c.slug}`}>\r\n                        {c.name}\r\n                      </Link>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </li>\r\n              {!auth.user ? (\r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink to=\"/register\" className=\"nav-link\">\r\n                      Register\r\n                    </NavLink>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink to=\"/login\" className=\"nav-link\">\r\n                      Login\r\n                    </NavLink>\r\n                  </li>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <li className=\"nav-item dropdown\">\r\n                    <NavLink\r\n                      className=\"nav-link dropdown-toggle\"\r\n                      href=\"#\"\r\n                      role=\"button\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                      aria-expanded=\"false\"\r\n                    >\r\n                      {auth?.user?.name}\r\n                    </NavLink>\r\n                    <ul className=\"dropdown-menu\">\r\n                      <li className=\"nav-item\">\r\n                        <NavLink\r\n                          to={`/dashboard/${auth?.user?.role === 1 ? `admin` : `user`\r\n                            }`}\r\n                          className=\"nav-link\"\r\n                        >\r\n                          DashBoard\r\n                        </NavLink>\r\n                      </li>\r\n                      <li className=\"nav-item\">\r\n                        <NavLink\r\n                          onClick={handleLogout}\r\n                          to=\"/login\"\r\n                          className=\"nav-link\"\r\n                        >\r\n                          LogOut\r\n                        </NavLink>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </>\r\n              )}\r\n              <li className=\"nav-item\">\r\n                <Badge count={cart?.length} showZero>\r\n                  <NavLink to=\"/cart\" className=\"nav-link mt-2\">\r\n                    Cart \r\n                  </NavLink>\r\n                </Badge>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}