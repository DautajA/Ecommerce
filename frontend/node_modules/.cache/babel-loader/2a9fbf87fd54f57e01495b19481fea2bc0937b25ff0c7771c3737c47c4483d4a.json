{"ast":null,"code":"import React,{useState,useEffect}from'react';import Layout from'../components/Layout/Layout';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{useCart}from'../context/cart.js';import toast from'react-hot-toast';import'../style/CartStyles.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const CategoryProduct=()=>{const navigate=useNavigate();const params=useParams();const[products,setProducts]=useState([]);const[category,setCategory]=useState([]);const[cart,setCart]=useCart();useEffect(()=>{if(params!==null&&params!==void 0&&params.slug)getProductByCategory();},[params===null||params===void 0?void 0:params.slug]);const getProductByCategory=async()=>{try{const{data}=await axios.get(\"http://localhost:8080/api/v1/product/product-category/\".concat(params.slug));setProducts(data===null||data===void 0?void 0:data.products);setCategory(data===null||data===void 0?void 0:data.category);}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-3 pt-3 cart-page\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"Category - \",category===null||category===void 0?void 0:category.name]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-center\",children:[products===null||products===void 0?void 0:products.length,\" result found\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row m-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap\",children:products.map(p=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card m-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8080/api/v1/product/product-photo/\".concat(p._id),className:\"card-img-top product-img\",alt:p.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:p.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-badge\",children:[\"$\",p.price]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[p.description.substring(0,30),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-remove-btn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark ms-1\",onClick:()=>navigate(\"/product/\".concat(p.slug)),children:\"More Details\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary ms-1\",onClick:()=>{setCart([...cart,p]);localStorage.setItem('cart',JSON.stringify([...cart,p]));toast.success('Item added to cart');},children:\"Add to CART\"})]})]})]})},p._id);})})})]})});};export default CategoryProduct;","map":{"version":3,"names":["React","useState","useEffect","Layout","useParams","useNavigate","axios","useCart","toast","jsxs","_jsxs","jsx","_jsx","CategoryProduct","navigate","params","products","setProducts","category","setCategory","cart","setCart","slug","getProductByCategory","data","get","concat","error","console","log","children","className","name","length","map","p","src","_id","alt","price","description","substring","onClick","localStorage","setItem","JSON","stringify","success"],"sources":["C:/Users/User/Documents/armonela/WonderHouse/frontend/src/pages/CategoryProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Layout from '../components/Layout/Layout'\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useCart } from '../context/cart.js';\r\nimport toast from 'react-hot-toast';\r\nimport '../style/CartStyles.css';\r\n\r\nconst CategoryProduct = () => {\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [category, setCategory] = useState([]);\r\n  const [cart, setCart] = useCart();\r\n\r\n  useEffect(() => {\r\n    if (params?.slug) getProductByCategory();\r\n  }, [params?.slug])\r\n  const getProductByCategory = async () => {\r\n    try {\r\n      const { data } = await axios.get(`http://localhost:8080/api/v1/product/product-category/${params.slug}`);\r\n      setProducts(data?.products);\r\n      setCategory(data?.category);\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  return (\r\n    <Layout>\r\n      <div className='container-fluid mt-3 pt-3 cart-page'>\r\n        <h1 className='text-center'>Category - {category?.name}</h1>\r\n        <h6 className='text-center'>{products?.length} result found</h6>\r\n        <div className='row m-5'>\r\n          <div className='d-flex flex-wrap'>\r\n            {products.map((p) => {\r\n              return (\r\n                <div key={p._id} className='col-6 col-md-4'>\r\n                  <div className=\"card m-1\">\r\n                    <img src={`http://localhost:8080/api/v1/product/product-photo/${p._id}`} className=\"card-img-top product-img\" alt={p.name} />\r\n                    <div className=\"card-body\">\r\n                      <div className=\"card-header\">\r\n                        <h5 className=\"card-title\">{p.name}</h5>\r\n                        <span className=\"price-badge\">${p.price}</span>\r\n                      </div>\r\n                      <p className=\"card-text\">{p.description.substring(0, 30)}...</p>\r\n                      <div className='cart-remove-btn'>\r\n                        <button className='btn btn-dark ms-1' onClick={() => navigate(`/product/${p.slug}`)}>More Details</button>\r\n                        <button className='btn btn-secondary ms-1'\r\n                          onClick={() => {\r\n                            setCart([...cart, p]);\r\n                            localStorage.setItem('cart', JSON.stringify([...cart, p]))\r\n                            toast.success('Item added to cart')\r\n                          }}>Add to CART</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n          {/* <div className='m-2 p-3'>\r\n            {products && products.length < total && ( \r\n              <button className='btn btn-warning' onClick={(e)=> {\r\n                e.preventDefault();\r\n                setPage(page+1)\r\n              }}>\r\n                {loading ? 'Loading ...': 'Loadmore'}\r\n            </button>)}\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default CategoryProduct\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}